---
import { Language } from "@anglish/core";
import { getLetterEntries } from "@anglish/db";
import LetterPage from "~/components/LetterPage.astro";
import { LETTER_ENTRIES_PER_PAGE } from "~/constants";
import Layout from "~/layouts/Layout.astro";
import { getLetterPagePaths } from "~/lib/util";

export async function getStaticPaths() {
  return getLetterPagePaths(Language.English);
}

const { letter, page } = Astro.params;
const entries = await getLetterEntries(letter, page, LETTER_ENTRIES_PER_PAGE, Language.English);
---

<Layout>
  <LetterPage letter={letter} page={page} entries={entries} />
</Layout>
